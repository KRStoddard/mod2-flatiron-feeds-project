


<section class="post">
<div class="post_box">
<%#shows post title, content, author, and total likes%>
<h2><%= @post.title %></h2>
<p><%= @post.content %> </p>
<p>Author:<%= link_to User.find_by(id: @post.user_id).username, user_path(@post.user_id) %>
<p><%= "Total likes: #{@post.likes}" %></p>
<% if @post.user_id == @signed_in_user.id %>
<%#if signed in user created the post, they can edit or delete it%>
<div class="button"><%= button_to "Delete post", post_path(@post), {method: :delete} %> </div>
<div class="button"> <%= button_to "Edit Post", edit_post_path(@post), {method: :get} %></div>
<% end %>
<%#anyone can like the post%>
<div class="button"> <%= button_to "Like Post", like_path(@post), method: :patch %></div>
</div>
</section>




<div class="button_align">
<%#post page also shows all of its comments%>
<h4>Comments: </h4>  
<%#button allows user to add comment to post%>
<div class="button1"> <%= button_to "Add Comment", new_comment_path, {method: :get} %> </div>

<div class="comments">
<%#lists comment's content, author, and likes%>
<% @post.comments.each do |comment| %>
<div class="comment">
  <% @comment = comment %>
<p> <%= comment.content %> </p>
<p>  User: <%= link_to User.find(comment.user_id).username, user_path(User.find(comment.user_id)) %></p>
<p> <%= "Total likes: #{@comment.likes}" %> </p>
<button><%= link_to "Like Comment", like_comment_path(@comment), method: :patch %></button><br>
<% if @comment.user_id == @signed_in_user.id %>
<%#if you made the comment, you can edit or delete it%>
<div class="button"> <%= button_to "Delete Comment", comment_path(@comment), {method: :delete} %></div>
<div class="button"><%= button_to "Edit Comment", edit_comment_path(@comment), {method: :get} %></div>
<% end %>
</div>
<% end %>
</div>



</body>


